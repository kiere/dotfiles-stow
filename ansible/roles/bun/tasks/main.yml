---
# Bun JavaScript runtime installation via mise
# Supports: All distros (uses mise)

- name: Install Bun {{ mise_bun_version }} via mise
  ansible.builtin.command:
    cmd: mise use --global bun@{{ mise_bun_version }}
  register: bun_install
  changed_when: "'installed' in bun_install.stdout or 'bun@' in bun_install.stdout"
  environment:
    PATH: "{{ ansible_env.PATH }}:/usr/local/bin:{{ user_home }}/.local/bin"

- name: Display Bun installation complete
  ansible.builtin.debug:
    msg: "Bun {{ mise_bun_version }} installed via mise!"
